<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:snowflake="http://www.mulesoft.org/schema/mule/snowflake" xmlns="http://www.mulesoft.org/schema/mule/core"
	xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/snowflake http://www.mulesoft.org/schema/mule/snowflake/current/mule-snowflake.xsd">
	<sub-flow name="insert-new-patient-data-into-dbSub_Flow" doc:id="46c76632-49a4-471d-a61d-e1eca51787a1" >
		<snowflake:insert doc:name="Insert patient data" doc:id="1f002b7e-0f45-4c80-953a-24393fba900b" config-ref="Snowflake_Config" >
			<snowflake:sql ><![CDATA[INSERT INTO patients (patient_id, firstName, lastName, age, gender, phoneNumber, address, gmail)
VALUES (:patient_id, :firstName, :lastName, :age, :gender, :phoneNumber, :address, :gmail);]]></snowflake:sql>
			<snowflake:input-parameters ><![CDATA[#[%dw 2.0
output application/json
---
{
	patient_id: vars.Patient_id,
	firstName: vars.requestedPayload.firstName default "",
	lastName: vars.requestedPayload.LastName default "",
	age: vars.requestedPayload.age as String default "",
	gender: vars.requestedPayload.gender default "",
	phoneNumber: vars.requestedPayload.phoneNumber default "",
	address: vars.requestedPayload.address default "",
	gmail: vars.requestedPayload.gmail default "",
}]]]></snowflake:input-parameters>
		</snowflake:insert>
	</sub-flow>
</mule>
